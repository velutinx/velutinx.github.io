<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>VELUTINX — Commissions</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>

  <!-- Fixed controls -->
  <div class="lang-swipe" id="langSwipe"></div>
  <div class="lang-toggle" id="langToggle">日本語</div>
  <div class="theme-toggle" id="themeToggle">
    <div class="theme-knob"></div>
  </div>

  <!-- Page wrapper -->
  <div id="page">

    <!-- Navigation -->
    <div id="navContainer"></div>

    <div class="divider"></div>

    <!-- Commission content -->
    <section class="commission-wrap">
      <div class="commission-box" id="commissionBox">
        <h2 id="comTitle">COMMISSIONS</h2>

        <p id="comInfo">Commission information will be added here soon.</p>

        <p class="placeholder" id="comList">
          ✦ Prices<br>
          ✦ Examples<br>
          ✦ Terms of Service<br>
          ✦ Queue Status<br><br>
          (Placeholder content — coming soon ♡)
        </p>
      </div>
    </section>

    <div class="divider"></div>

  </div>

  <!-- Shared navigation -->
  <script src="/assets/js/navigation.js"></script>

  <!-- Inline shared features (stable until external JS is fixed) -->
  <script>
    // Language toggle + translation for blobs & commission text
    let isJapanese = false;
    const langToggleBtn = document.getElementById("langToggle");
    const langSwipe = document.getElementById("langSwipe");

    langToggleBtn.onclick = () => {
      langSwipe.classList.remove("active");
      void langSwipe.offsetWidth;
      langSwipe.classList.add("active");

      setTimeout(() => {
        isJapanese = !isJapanese;
        langToggleBtn.textContent = isJapanese ? "EN" : "日本語";

        // Translate blobs
        document.querySelectorAll(".blob-text").forEach(t => {
          t.textContent = isJapanese ? t.dataset.jp : t.dataset.en;
        });

        // Translate commission text
        document.getElementById("comTitle").textContent = isJapanese ? "コミッション" : "COMMISSIONS";
        document.getElementById("comInfo").textContent = isJapanese 
          ? "コミッション情報は近日中に追加されます。" 
          : "Commission information will be added here soon.";
        document.getElementById("comList").innerHTML = isJapanese 
          ? `✦ 料金<br>✦ サンプル<br>✦ 利用規約<br>✦ 受付状況<br><br>（プレースホルダー — 近日公開 ♡）`
          : `✦ Prices<br>✦ Examples<br>✦ Terms of Service<br>✦ Queue Status<br><br>(Placeholder content — coming soon ♡)`;
      }, 180);
    };

    // Theme toggle
    document.getElementById("themeToggle").onclick = () => {
      document.body.classList.toggle("dark");
    };

    // Cursor sparkles
    let lastStarTime = 0;
    document.addEventListener("mousemove", (e) => {
      const now = Date.now();
      if (now - lastStarTime < 45) return;
      lastStarTime = now;

      const star = document.createElement("div");
      star.className = "star";
      star.textContent = "✦";
      star.style.setProperty("--drift", Math.random());
      star.style.left = e.clientX + "px";
      star.style.top = e.clientY + "px";

      document.body.appendChild(star);
      setTimeout(() => star.remove(), 2000);
    });

    // Box sparkles (inside commission box)
    const commissionBox = document.getElementById("commissionBox");
    setInterval(() => {
      const star = document.createElement("div");
      star.className = "box-star";
      star.textContent = "✦";
      star.style.left = Math.random() * commissionBox.clientWidth + "px";
      star.style.top = "0px";
      commissionBox.appendChild(star);
      setTimeout(() => star.remove(), 6000);
    }, 700);

    // Tab title animation (optional)
    const titles = ["VELUTINX", "ELUTINX", "LUTINX", "UTINX", "TINX", "INX", "NX", "X"];
    let index = 0;
    function animateTitle() {
      document.title = titles[index];
      index = (index + 1) % titles.length;
      setTimeout(animateTitle, 600);
    }
    animateTitle();
  </script>

</body>
</html>
