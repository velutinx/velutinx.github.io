<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>VELUTINX â€” Artwork</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>

  <!-- Fixed controls -->
  <div class="lang-swipe" id="langSwipe"></div>
  <div class="lang-toggle" id="langToggle">ðŸ‡¯ðŸ‡µ</div>
  <div class="theme-toggle" id="themeToggle">
    <div class="theme-knob"></div>
  </div>

  <!-- Page wrapper -->
  <div id="page">

    <!-- Navigation -->
    <div id="navContainer"></div>

    <div class="divider"></div>

    <!-- Artwork content -->
    <section class="artwork-wrap">
      <div class="artwork-intro" id="artworkIntro">
        Hello! These are just a few small samples of my artwork â€” I share a lot more on my free Discord! â€” Temporal Images
      </div>
      <div class="gallery" id="gallery"></div>
    </section>

    <div class="divider"></div>

  </div>

  <!-- Zoom overlay -->
  <div class="zoom-overlay" id="zoomOverlay"></div>

  <!-- Shared navigation loader -->
  <script src="/assets/js/navigation.js"></script>

  <!-- All shared functionality inline -->
  <script>
    // Language toggle
    let isJapanese = false;
    langToggle.onclick = () => {
      langSwipe.classList.remove("active");
      void langSwipe.offsetWidth;
      langSwipe.classList.add("active");

      setTimeout(() => {
        isJapanese = !isJapanese;

        document.querySelectorAll(".blob-text").forEach(t => {
          t.textContent = isJapanese ? t.dataset.jp : t.dataset.en;
        });

        // Translate artwork intro
        const artworkIntro = document.getElementById("artworkIntro");
        if (artworkIntro) {
          artworkIntro.textContent = isJapanese 
            ? "ã“ã¡ã‚‰ã¯ä½œå“ã‚µãƒ³ãƒ—ãƒ«ã®ä¸€éƒ¨ã§ã™ã€‚ç„¡æ–™Discordã§ã¯ã•ã‚‰ã«å¤šãå…¬é–‹ã—ã¦ã„ã¾ã™ï¼ ä¸€æ™‚çš„ãªç”»åƒ"
            : "Hello! These are just a few small samples of my artwork â€” I share a lot more on my free Discord! â€” Temporal Images";
        }

        langToggle.textContent = isJapanese ? "ðŸ‡ºðŸ‡¸" : "ðŸ‡¯ðŸ‡µ";
      }, 180);
    };

    // Theme toggle
    themeToggle.onclick = () => document.body.classList.toggle("dark");

    // Cursor sparkles
    let lastStarTime = 0;
    document.addEventListener("mousemove", (e) => {
      const now = Date.now();
      if (now - lastStarTime < 45) return;
      lastStarTime = now;

      const star = document.createElement("div");
      star.className = "star";
      star.textContent = "âœ¦";
      star.style.setProperty("--drift", Math.random());
      star.style.left = e.clientX + "px";
      star.style.top = e.clientY + "px";

      document.body.appendChild(star);
      setTimeout(() => star.remove(), 2000);
    });

    // Full-page falling sparkles (starts from top, falls across full viewport)
    setInterval(() => {
      const star = document.createElement("div");
      star.className = "falling-star";
      star.textContent = "âœ¦";
      star.style.left = Math.random() * 100 + "vw";          // random horizontal position
      star.style.top = "-10vh";                              // starts above the viewport
      star.style.setProperty("--drift", Math.random() * 2 - 1); // slight left/right drift
      document.body.appendChild(star);
      setTimeout(() => star.remove(), 8000);                 // longer fall time for scrolling pages
    }, 400);  // more frequent so they are visible while scrolling

    // Gallery loading
    const MAX_IMAGES = 45;
    const BASE = "/images/artwork/";

    const gallery = document.getElementById("gallery");

    for (let i = 1; i <= MAX_IMAGES; i++) {
      const img = document.createElement("img");
      img.src = BASE + i + ".jpg";
      img.alt = `Artwork sample ${i}`;
      img.onerror = () => img.remove();
      img.loading = "lazy";
      gallery.appendChild(img);
    }

    // Zoom functionality
    let activeClone = null;
    let originRect = null;

    document.addEventListener("click", (e) => {
      const img = e.target.closest(".gallery img");
      if (!img) return;

      originRect = img.getBoundingClientRect();
      const scrollY = window.scrollY;

      const clone = img.cloneNode();
      clone.className = "zoom-image";

      clone.style.top = originRect.top + scrollY + "px";
      clone.style.left = originRect.left + "px";
      clone.style.width = originRect.width + "px";
      clone.style.height = originRect.height + "px";

      document.body.appendChild(clone);
      activeClone = clone;

      clone.getBoundingClientRect();
      document.getElementById("zoomOverlay").classList.add("active");
      document.body.classList.add("zoom-active");

      requestAnimationFrame(() => {
        const vw = window.innerWidth * 0.9;
        const vh = window.innerHeight * 0.9;
        const imgRatio = originRect.width / originRect.height;
        const viewRatio = vw / vh;

        let w, h;
        if (imgRatio > viewRatio) {
          w = vw;
          h = vw / imgRatio;
        } else {
          h = vh;
          w = vh * imgRatio;
        }

        clone.style.left = (window.innerWidth - w) / 2 + "px";
        clone.style.top = (window.innerHeight - h) / 2 + scrollY + "px";
        clone.style.width = w + "px";
        clone.style.height = h + "px";
      });
    });

    document.getElementById("zoomOverlay").onclick = () => {
      if (!activeClone) return;

      const scrollY = window.scrollY;
      activeClone.style.left = originRect.left + "px";
      activeClone.style.top = originRect.top + scrollY + "px";
      activeClone.style.width = originRect.width + "px";
      activeClone.style.height = originRect.height + "px";

      document.getElementById("zoomOverlay").classList.remove("active");
      document.body.classList.remove("zoom-active");

      setTimeout(() => {
        activeClone.remove();
        activeClone = null;
        originRect = null;
      }, 230);
    };
  </script>
  
  <!-- Shared tab title animation -->
  <script src="/assets/js/tab-title-animation.js"></script>
  
</body>
</html>
